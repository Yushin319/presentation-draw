<!DOCTYPE html><html lang="zh-TW"><head>
    <meta charset="UTF-8">
    <title>ç°¡å ±ç™¼è¡¨é¸è™Ÿç³»çµ± - ç›²æŠ½å¯¦åç‰ˆ</title>
    <style>
        :root {
            --primary-color: #34495e;
            --accent-color: #27ae60; /* ç¿»é–‹å¾Œçš„é¡è‰² */
            --card-front-bg: #ffffff;
            --disabled-color: #95a5a6;
        }

        body { font-family: 'Segoe UI', 'Microsoft JhengHei', sans-serif; background: #f0f3f5; margin: 0; padding: 20px; text-align: center; }
        
        #header-area {
            background: white; padding: 25px; border-radius: 15px; 
            box-shadow: 0 8px 25px rgba(0,0,0,0.1); max-width: 850px; 
            margin: 0 auto 30px; border-top: 10px solid var(--primary-color);
        }

        .setup-area { 
            background: #f8f9fa; padding: 20px; border-radius: 10px; margin-bottom: 20px;
            display: flex; justify-content: center; align-items: center; gap: 10px; flex-wrap: wrap;
        }

        select { padding: 10px; font-size: 16px; border-radius: 8px; border: 2px solid #ddd; }
        
        button { 
            padding: 10px 25px; font-size: 16px; cursor: pointer; border: none; 
            border-radius: 50px; background: var(--primary-color); color: white; 
            font-weight: bold; transition: 0.3s;
        }
        button:hover { transform: scale(1.05); background: #2c3e50; }

        .card-grid { 
            display: grid; grid-template-columns: repeat(auto-fill, minmax(140px, 1fr)); 
            gap: 15px; padding: 20px; max-width: 1000px; margin: 0 auto; perspective: 1000px; 
        }

        .card-container { height: 120px; position: relative; transform-style: preserve-3d; transition: transform 0.6s; cursor: pointer; }
        .card-container.flipped { transform: rotateY(180deg); cursor: default; }
        .card-container.locked { pointer-events: none; }

        .card-face { 
            position: absolute; width: 100%; height: 100%; backface-visibility: hidden; 
            display: flex; align-items: center; justify-content: center; 
            border-radius: 12px; font-weight: bold; box-shadow: 0 4px 8px rgba(0,0,0,0.1); 
            border: 2px solid var(--primary-color);
        }
        
        /* æ­£é¢ï¼šå•è™Ÿ */
        .card-front { background: var(--card-front-bg); color: var(--primary-color); font-size: 45px; }
        /* èƒŒé¢ï¼šé¡¯ç¤ºæŠ½ä¸­çš„é †åº */
        .card-back { background: var(--accent-color); color: white; transform: rotateY(180deg); font-size: 14px; flex-direction: column; padding: 5px; border: 2px solid #219150; }

        #msg { font-size: 1.2rem; font-weight: bold; color: #c0392b; margin-top: 20px; min-height: 40px; }
        
        .record-board { 
            max-width: 850px; margin: 30px auto; background: white; padding: 20px; 
            border-radius: 15px; box-shadow: 0 4px 15px rgba(0,0,0,0.05);
            display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; text-align: left;
        }
        .record-title { grid-column: 1 / -1; font-weight: bold; font-size: 1.1rem; border-bottom: 2px solid #eee; margin-bottom: 5px; padding-bottom: 5px; }
        .record-item { padding: 8px; border-bottom: 1px solid #eee; font-size: 14px; }
    </style>
</head>
<body>

    <div id="header-area">
        <h1>ğŸ™ï¸ ç°¡å ±ç™¼è¡¨é †ä½æŠ½ç±¤ç³»çµ± (ç›²æŠ½ç‰ˆ)</h1>
        
        <div class="setup-area" id="setupArea">
            <label>çµ„é•·å ±åˆ°ï¼š</label>
            <select id="teamSelector">
                <option value="">-- è«‹é¸æ“‡çµ„åˆ¥ --</option>
            </select>
            <button onclick="confirmTeam()">ç¢ºèªä¸¦é–‹å§‹æŠ½ç±¤</button>
        </div>

        <div id="msg">è«‹çµ„é•·å®Œæˆå ±åˆ°å¾Œå³å¯é»æ“Šç‰Œé¢</div>
    </div>

    <div id="card-grid" class="card-grid"></div>

    <div class="record-board" id="recordBoard">
        <div class="record-title">ğŸ“Œ æœ€çµ‚é †åºç¸½è¦½ï¼š</div>
    </div>

    <script>
        const originalTeams = [
            "ç¬‘CCæ’éè©¦ç”¨æœŸ", "ç«é¢¨é¼", "404 Human Not Found", "AF0000",
            "è’œæ³¥å²å®³", "ç‚ºäº†äº”ç™¾å…ƒ", "Agent åœ¨æ‰‹ï¼Œçé‡‘æˆ‘æœ‰", "AI~æˆ‘å€‘è·Ÿå¾—ä¸Š",
            "Copilot Alchemy", "ä¼ä½°æˆ‘ä¾†äº†", "Mission: Promptable", "è¡Œæ”¿æœå‹™å°ç•¶å®¶"
        ];

        let shuffledOrders = [];
        let currentSelectingTeam = "";
        let drawnRecords = {}; 

        function init() {
            // 1. æ´—ç‰Œï¼šå°‡ 1-12 æ•¸å­—éš¨æ©Ÿæ’åº
            shuffledOrders = Array.from({length: 12}, (_, i) => i + 1);
            for (let i = shuffledOrders.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [shuffledOrders[i], shuffledOrders[j]] = [shuffledOrders[j], shuffledOrders[i]];
            }

            // 2. å¡«å……é¸å–®
            const selector = document.getElementById('teamSelector');
            originalTeams.forEach(team => {
                let opt = document.createElement('option');
                opt.value = team;
                opt.innerText = team;
                selector.appendChild(opt);
            });

            // 3. ç”¢ç”Ÿ 12 å¼µæ­£é¢æ˜¯å•è™Ÿçš„ç‰Œ
            const grid = document.getElementById('card-grid');
            grid.innerHTML = '';
            for (let i = 0; i < 12; i++) {
                const container = document.createElement('div');
                container.className = 'card-container locked'; 
                container.id = 'card-' + i;
                container.innerHTML = `
                    <div class="card-face card-front">ï¼Ÿ</div>
                    <div class="card-face card-back" id="back-${i}"></div>
                `;
                container.onclick = () => draw(i);
                grid.appendChild(container);
            }
            updateRecordBoard();
        }

        function confirmTeam() {
            const selector = document.getElementById('teamSelector');
            const team = selector.value;
            if (!team) { alert("è«‹å…ˆé¸æ“‡çµ„åˆ¥ï¼"); return; }

            currentSelectingTeam = team;
            document.getElementById('msg').innerText = `ã€${team}ã€‘è«‹é¸ä¸€å¼µç‰Œ...`;
            
            // è§£é–æœªç¿»é–‹çš„ç‰Œ
            document.querySelectorAll('.card-container').forEach(card => {
                if (!card.classList.contains('flipped')) {
                    card.classList.remove('locked');
                }
            });
            document.getElementById('setupArea').style.display = 'none';
        }

        function draw(index) {
            if (!currentSelectingTeam) return;

            const finalOrder = shuffledOrders[index]; // å–å¾—è©²ç‰Œä½é è¨­çš„éš¨æ©Ÿæ•¸å­—
            const card = document.getElementById('card-' + index);
            
            // ç¿»ç‰Œä¸¦é¡¯ç¤ºæ•¸å­—
            card.classList.add('flipped');
            document.getElementById('back-' + index).innerHTML = `
                <div style="font-size:12px;">æŠ½ä¸­é †ä½</div>
                <div style="font-size:48px; margin:5px 0;">${finalOrder}</div>
                <div style="font-size:14px; font-weight:normal;">${currentSelectingTeam}</div>
            `;

            // å­˜å…¥è¨˜éŒ„
            drawnRecords[finalOrder] = currentSelectingTeam;
            updateRecordBoard();

            // ç§»é™¤å·²æŠ½çµ„åˆ¥
            removeTeamFromList(currentSelectingTeam);
            
            currentSelectingTeam = "";
            document.getElementById('msg').innerText = "å·²è¨˜éŒ„ï¼è«‹ä¸‹ä¸€çµ„å ±åˆ°ã€‚";
            document.getElementById('setupArea').style.display = 'flex';
            document.getElementById('teamSelector').value = "";

            // é‡æ–°é–å®šï¼Œç›´åˆ°ä¸‹ä¸€äººå ±åˆ°
            document.querySelectorAll('.card-container').forEach(c => c.classList.add('locked'));
        }

        function removeTeamFromList(teamName) {
            const selector = document.getElementById('teamSelector');
            for (let i = 0; i < selector.length; i++) {
                if (selector.options[i].value === teamName) {
                    selector.remove(i);
                    break;
                }
            }
        }

        function updateRecordBoard() {
            const board = document.getElementById('recordBoard');
            board.innerHTML = '<div class="record-title">ğŸ“Œ æœ€çµ‚é †åºç¸½è¦½ï¼š</div>';
            for (let i = 1; i <= 12; i++) {
                const item = document.createElement('div');
                item.className = 'record-item';
                item.style.color = drawnRecords[i] ? "#2c3e50" : "#bdc3c7";
                item.innerText = `é †åº ${i}ï¼š${drawnRecords[i] || 'å¾…æŠ½ç±¤'}`;
                board.appendChild(item);
            }
        }

        window.onload = init;
    </script>
</body>
</html>
