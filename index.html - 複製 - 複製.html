<!DOCTYPE html><html lang="zh-TW"><head>
    <meta charset="UTF-8">
    <title>ç°¡å ±ç™¼è¡¨é¸è™Ÿç³»çµ± - å¯¦åæŠ½ç±¤ç‰ˆ</title>
    <style>
        :root {
            --primary-color: #34495e;
            --accent-color: #27ae60;
            --card-front-bg: #ecf0f1;
            --disabled-color: #95a5a6;
        }

        body { font-family: 'Segoe UI', 'Microsoft JhengHei', sans-serif; background: #f0f3f5; margin: 0; padding: 20px; text-align: center; }
        
        #header-area {
            background: white; padding: 25px; border-radius: 15px; 
            box-shadow: 0 8px 25px rgba(0,0,0,0.1); max-width: 850px; 
            margin: 0 auto 30px; border-top: 10px solid var(--primary-color);
        }

        .setup-area { 
            background: #f8f9fa; padding: 20px; border-radius: 10px; margin-bottom: 20px;
            display: flex; justify-content: center; align-items: center; gap: 10px; flex-wrap: wrap;
        }

        select { padding: 10px; font-size: 16px; border-radius: 8px; border: 2px solid #ddd; }
        
        button { 
            padding: 10px 25px; font-size: 16px; cursor: pointer; border: none; 
            border-radius: 50px; background: var(--primary-color); color: white; 
            font-weight: bold; transition: 0.3s;
        }
        button:disabled { background: var(--disabled-color); cursor: not-allowed; }

        .card-grid { 
            display: grid; grid-template-columns: repeat(auto-fill, minmax(140px, 1fr)); 
            gap: 15px; padding: 20px; max-width: 1000px; margin: 0 auto; perspective: 1000px; 
        }

        .card-container { height: 120px; position: relative; transform-style: preserve-3d; transition: transform 0.6s; cursor: pointer; }
        .card-container.flipped { transform: rotateY(180deg); cursor: default; }
        .card-container.locked { pointer-events: none; }

        .card-face { 
            position: absolute; width: 100%; height: 100%; backface-visibility: hidden; 
            display: flex; align-items: center; justify-content: center; 
            border-radius: 12px; font-weight: bold; box-shadow: 0 4px 8px rgba(0,0,0,0.1); 
        }
        
        .card-front { background: var(--card-front-bg); color: var(--primary-color); border: 2px solid var(--primary-color); font-size: 40px; }
        .card-back { background: var(--accent-color); color: white; transform: rotateY(180deg); font-size: 14px; flex-direction: column; padding: 5px; }

        #msg { font-size: 1.2rem; font-weight: bold; color: #c0392b; margin-top: 20px; min-height: 40px; }
        
        .record-board { 
            max-width: 850px; margin: 30px auto; background: white; padding: 20px; 
            border-radius: 15px; box-shadow: 0 4px 15px rgba(0,0,0,0.05);
            display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; text-align: left;
        }
        .record-item { padding: 8px; border-bottom: 1px solid #eee; font-size: 14px; }
    </style>
</head>
<body>

    <div id="header-area">
        <h1>ğŸ™ï¸ ç°¡å ±ç™¼è¡¨é †ä½æŠ½ç±¤ç³»çµ±</h1>
        
        <div class="setup-area" id="setupArea">
            <label>æˆ‘æ˜¯å“ªä¸€çµ„çš„çµ„é•·ï¼š</label>
            <select id="teamSelector">
                <option value="">-- è«‹é¸æ“‡çµ„åˆ¥ --</option>
            </select>
            <button onclick="confirmTeam()">ç¢ºèªçµ„åˆ¥ä¸¦é–‹å§‹æŠ½ç±¤</button>
        </div>

        <div id="msg">è«‹çµ„é•·å…ˆå®Œæˆå ±åˆ°</div>
    </div>

    <div id="card-grid" class="card-grid"></div>

    <div class="record-board" id="recordBoard">
        </div>

    <script>
        const originalTeams = [
            "ç¬‘CCæ’éè©¦ç”¨æœŸ", "ç«é¢¨é¼", "404 Human Not Found", "AF0000",
            "è’œæ³¥å²å®³", "ç‚ºäº†äº”ç™¾å…ƒ", "Agent åœ¨æ‰‹ï¼Œçé‡‘æˆ‘æœ‰", "AI~æˆ‘å€‘è·Ÿå¾—ä¸Š",
            "Copilot Alchemy", "ä¼ä½°æˆ‘ä¾†äº†", "Mission: Promptable", "è¡Œæ”¿æœå‹™å°ç•¶å®¶"
        ];

        let availableOrders = Array.from({length: 12}, (_, i) => i + 1);
        let currentSelectingTeam = "";
        let drawnRecords = {}; // ç”¨æ–¼å„²å­˜ {é †åº: çµ„å}

        // åˆå§‹åŒ–é é¢
        function init() {
            // å¡«å……ä¸‹æ‹‰é¸å–®
            const selector = document.getElementById('teamSelector');
            originalTeams.forEach(team => {
                let opt = document.createElement('option');
                opt.value = team;
                opt.innerText = team;
                selector.appendChild(opt);
            });

            // ç”¢ç”Ÿ 12 å¼µåˆå§‹è“‹è‘—çš„ç‰Œ
            const grid = document.getElementById('card-grid');
            grid.innerHTML = '';
            for (let i = 1; i <= 12; i++) {
                const container = document.createElement('div');
                container.className = 'card-container locked'; // åˆå§‹é–å®šï¼Œå ±åˆ°å¾Œæ‰è§£é–
                container.id = 'card-' + i;
                container.innerHTML = `
                    <div class="card-face card-front">${i}</div>
                    <div class="card-face card-back" id="back-${i}"></div>
                `;
                container.onclick = () => draw(i);
                grid.appendChild(container);
            }
        }

        // 1. çµ„é•·å ±åˆ°
        function confirmTeam() {
            const selector = document.getElementById('teamSelector');
            const team = selector.value;

            if (!team) {
                alert("è«‹å…ˆé¸æ“‡æ‚¨çš„çµ„åˆ¥ï¼");
                return;
            }

            currentSelectingTeam = team;
            document.getElementById('msg').innerText = `è«‹ ${team} çµ„é•·é»æ“Šä¸‹æ–¹ä»»ä¸€æ•¸å­—å¡ç‰‡...`;
            
            // è§£é–å°šæœªç¿»é–‹çš„å¡ç‰‡
            document.querySelectorAll('.card-container').forEach(card => {
                if (!card.classList.contains('flipped')) {
                    card.classList.remove('locked');
                }
            });

            // ç¦ç”¨å ±åˆ°æŒ‰éˆ•é˜²æ­¢é‡è¤‡å ±åˆ°
            document.getElementById('setupArea').style.display = 'none';
        }

        // 2. é€²è¡ŒæŠ½ç±¤
        function draw(orderNumber) {
            if (!currentSelectingTeam) return;

            const card = document.getElementById('card-' + orderNumber);
            
            // ç¿»ç‰Œ
            card.classList.add('flipped');
            document.getElementById('back-' + orderNumber).innerHTML = `
                <div style="font-size:12px; margin-bottom:5px;">ç¬¬ ${orderNumber} ä½ä¸Šå°</div>
                <div style="font-size:16px;">${currentSelectingTeam}</div>
            `;

            // è¨˜éŒ„çµæœ
            drawnRecords[orderNumber] = currentSelectingTeam;
            updateRecordBoard();

            // æ›´æ–°é¸å–®ï¼šç§»é™¤å·²æŠ½ç±¤çš„çµ„åˆ¥
            removeTeamFromList(currentSelectingTeam);
            
            // é‡ç½®ç‹€æ…‹ï¼Œç­‰å¾…ä¸‹ä¸€çµ„
            currentSelectingTeam = "";
            document.getElementById('msg').innerText = "å·²è¨˜éŒ„ï¼è«‹ä¸‹ä¸€çµ„çµ„é•·å ±åˆ°ã€‚";
            document.getElementById('setupArea').style.display = 'flex';
            document.getElementById('teamSelector').value = "";

            // é–å®šæ‰€æœ‰å¡ç‰‡ï¼Œç›´åˆ°ä¸‹ä¸€çµ„å ±åˆ°
            document.querySelectorAll('.card-container').forEach(c => c.classList.add('locked'));
        }

        function removeTeamFromList(teamName) {
            const selector = document.getElementById('teamSelector');
            for (let i = 0; i < selector.length; i++) {
                if (selector.options[i].value === teamName) {
                    selector.remove(i);
                    break;
                }
            }
        }

        function updateRecordBoard() {
            const board = document.getElementById('recordBoard');
            board.innerHTML = '<strong>ç•¶å‰é †åºè¨˜éŒ„ï¼š</strong><br>';
            // æŒ‰é †ä½ 1-12 æ’åºé¡¯ç¤º
            for (let i = 1; i <= 12; i++) {
                if (drawnRecords[i]) {
                    const item = document.createElement('div');
                    item.className = 'record-item';
                    item.innerText = `é †åº ${i}ï¼š${drawnRecords[i]}`;
                    board.appendChild(item);
                }
            }
        }

        window.onload = init;
    </script>
</body>
</html>